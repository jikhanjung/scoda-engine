# SCODA 배포 전략 및 구조 설계 정리

## 1. 개요

본 문서는 SCODA 프로젝트에서 PyPI 배포, scoda-engine-core 분리, 그리고
ScodaDesktop 데스크탑 애플리케이션의 향후 운영 전략에 대한 논의를 정리한
것이다.

목표는 다음과 같다.

-   연구용/개발용 엔진과 사용자용 애플리케이션을 분리
-   장기 유지보수 가능한 배포 구조 확립
-   재현성과 확장성을 동시에 확보

------------------------------------------------------------------------

## 2. PyPI 배포를 Core 분리 이후에 진행하는 이유

### 2.1 PyPI의 성격

PyPI는 다음을 위한 저장소이다.

-   Python 라이브러리
-   SDK
-   Headless API
-   서버/CLI용 모듈

반면, GUI 실행 파일 배포에는 적합하지 않다.

------------------------------------------------------------------------

### 2.2 현재 구조의 문제점

현재 ScodaDesktop는 다음 요소를 포함한다.

-   GUI
-   패키지 로더
-   DB 접근 로직
-   Resolver
-   검증 로직
-   Export 기능

이 상태에서는 PyPI 배포 시:

-   GUI 의존성 포함
-   대용량 리소스 포함
-   라이선스 및 배포 문제 발생

위험성이 크다.

------------------------------------------------------------------------

### 2.3 Core 분리 후 PyPI 배포의 이점

scoda-engine-core 분리 이후 PyPI 배포 시:

-   순수 엔진 라이브러리 제공
-   개발자 친화적 API 제공
-   서버/자동화/AI 연동 가능
-   장기 유지보수 용이

결과적으로 PyPI는 "엔진 표준 배포 채널"이 된다.

------------------------------------------------------------------------

## 3. scoda-engine-core의 역할 정의

scoda-engine-core는 SCODA 패키지를 해석·관리하는 핵심 엔진이다.

주요 기능:

### 3.1 패키지 로딩

-   manifest 파싱
-   무결성 검증
-   의존성 검사
-   버전 해석

### 3.2 데이터 접근 API

-   SQLite 추상화
-   Async 지원
-   Schema 관리

### 3.3 Assertion / View 엔진

-   Assertion 충돌 해결
-   View 합성
-   Provenance 추적

### 3.4 Resolver / Registry

-   패키지 다운로드
-   버전 해결
-   Lockfile 생성

### 3.5 Export / Snapshot

-   CSV/JSON Export
-   Frozen Snapshot 생성

### 3.6 Validation / QA

-   Schema 검사
-   Orphan 탐지
-   Reference 검증

### 3.7 Plugin API

-   분석 모듈 연동
-   AI 연계 모듈

------------------------------------------------------------------------

## 4. ScodaDesktop의 역할 정의

ScodaDesktop는 사용자 인터페이스 계층이다.

주요 목표:

-   패키지 선택
-   서버 제어
-   로그 모니터링
-   시각적 관리 도구 제공

즉, 엔진의 GUI Wrapper 역할을 담당한다.

------------------------------------------------------------------------

## 5. ScodaDesktop 배포 전략

### 5.1 기본 배포 채널

1차 목표:

-   GitHub Releases 중심

플랫폼별:

  OS        포맷
  --------- --------------------------
  Windows   Setup.exe / Portable exe
  macOS     dmg
  Linux     AppImage

------------------------------------------------------------------------

### 5.2 코드 서명 및 인증

장기적으로 필요:

-   Windows Code Signing
-   macOS Notarization

초기 단계에서는 경고 안내 방식으로 대응

------------------------------------------------------------------------

### 5.3 업데이트 전략

초기 단계:

-   앱 내 업데이트 알림
-   다운로드 링크 제공

장기:

-   자동 업데이트 시스템 도입

------------------------------------------------------------------------

## 6. GUI 기술 선택 전략

### 6.1 현 단계: tkinter 유지

현재 UI 복잡도:

-   런처형 컨트롤 패널
-   단순 리스트 + 버튼 + 로그

→ tkinter 충분

------------------------------------------------------------------------

### 6.2 Qt 전환 시점

다음 기능 2개 이상 필요 시 고려:

-   Assertion Tree Viewer
-   검색/필터 패널
-   Export Wizard
-   통계 시각화
-   플러그인 설정

→ PySide6 권장

------------------------------------------------------------------------

## 7. 단계별 로드맵

### Phase 1: 구조 정리 (현재)

-   Core 분리
-   API 안정화
-   tkinter 유지

### Phase 2: 생태계 확장

-   PyPI 배포 시작
-   CLI 도구 제공
-   서버 연동

### Phase 3: 제품화

-   Qt 기반 UI 전환
-   자동 업데이트
-   코드 서명

------------------------------------------------------------------------

## 8. 추천 디렉토리 구조

    scoda-engine-core/
      pyproject.toml
      src/scoda/
      tests/

    scoda-desktop/
      ui/
      main.py
      build/

    packages/
      trilobase.scoda
      paleocore.scoda

------------------------------------------------------------------------

## 9. 장기적 효과

본 구조를 채택할 경우:

-   논문 재현성 확보
-   AI 연동 용이
-   서버/데스크탑 통합 가능
-   생태계 확장 기반 확보

------------------------------------------------------------------------

## 10. 결론

SCODA 프로젝트의 핵심 전략은 다음과 같다.

1.  엔진과 UI를 분리한다.
2.  엔진은 PyPI로 표준화한다.
3.  앱은 OS별 배포로 관리한다.
4.  구조 안정 후 UI 고도화를 진행한다.

이 전략은 연구 인프라와 소프트웨어 제품화를 동시에 만족시키는 방향이다.
