# SCODA로서의 Trilobase
## Trilobase를 자기완결형 데이터 아티팩트로 재정의하기

---

## 이 문서의 목적

이 문서는 **Trilobase**를 **SCODA(Self-Contained Data Artifact, 자기완결형 데이터 아티팩트)** 관점에서 설명한다.

이 문서는 기술 README나 데이터베이스 스키마 문서를 대체하지 **않는다**.
대신 다음을 명확히 한다:

- 분산 지식 객체로서 Trilobase가 *무엇인지*
- Trilobase가 어떤 책임을 지고 (의도적으로) 어떤 것을 피하는지
- 어떻게 사용되고, 확장되고, 인용되어야 하는지

---

## Trilobase란 무엇인가 (SCODA로서)

**Trilobase는 삼엽충 속(genus) 수준 분류학의 버전 관리된 권위 있는 스냅샷으로,
자기완결형 데이터 아티팩트로 배포된다.**

SCODA 관점에서:

- Trilobase는 **서비스가 아니다**
- Trilobase는 **지속적으로 동기화되는 데이터베이스가 아니다**
- Trilobase는 특정 시점의 분류학적 지식 상태를 나타내는 **참조 아티팩트**이다

---

## 핵심 매핑: Trilobase → SCODA

| SCODA 구성 요소 | Trilobase 구현 |
|----------------|--------------------------|
| 데이터 | 분류학 테이블을 포함하는 SQLite 데이터베이스 |
| 식별자 | 프로젝트 이름 + 시맨틱 버전 |
| 의미론 | 데이터베이스 스키마, 분류 계층, 이명 관계 |
| 출처 | 원문 문헌 (Jell & Adrain 2002; Adrain 2011) |
| 무결성 | 불변 릴리스 아티팩트; 버전 관리된 업데이트 |

---

## 불변성과 버전 관리

Trilobase의 각 릴리스 버전은:

- **읽기 전용**으로 취급된다
- 분류학적 해석의 *큐레이션된 스냅샷*을 나타낸다
- 인용, 보관, 재현이 가능하다

정규 데이터에 대한 모든 수정은 다음을 수반한다:

- **새 버전**
- **새 SCODA 아티팩트**
- 출처 정보의 명시적 업데이트

이는 분류학적 견해가 조용한 변경이 아닌 출판을 통해 진화하는 방식을 반영한다.

---

## 로컬 사용 및 확장

사용자가 Trilobase를 로컬에서 열 때:

- 기본 아티팩트는 불변으로 유지된다
- 로컬 변경은 다음으로 제한된다:
  - 메모
  - 주석
  - 대안적 해석
  - 추가 문헌 링크

이러한 로컬 확장은:

- 정규 분류학을 덮어쓰지 **않는다**
- 자동으로 동기화되지 않는다
- 개인 오버레이로 존재한다

---

## 다중 해석과 "Sensu" 개념

분류학적 이견은 예상되는 상황이다.

Trilobase는 다음을 허용함으로써 이를 지원한다:

- 여러 분류학적 **개념**의 공존
- 각 개념의 명시적 레이블링 (예: *sensu Adrain, 2011*)
- 각 주장의 원문 참조에 대한 추적 가능성

배포된 기본 아티팩트는 하나의 **권장 개념 세트**를 선택할 수 있으며,
동시에 대안을 보존한다.

---

## 업그레이드와 데이터 진화

Trilobase의 업데이트는 다음을 통해 이루어진다:

1. 큐레이션 및 검토
2. 새 SCODA 아티팩트 생성
3. 새 버전의 명시적 배포

사용자는 업그레이드 시기를 (또는 여부를) 선택할 수 있다.

설치 간에 암묵적 동기화는 없다.

---

## Trilobase가 명시적으로 하지 않는 것

SCODA로서 Trilobase는 다음을 의도적으로 피한다:

- 실시간 협업 편집
- 상충하는 해석의 자동 병합
- 중앙화된 라이브 API를 주요 인터페이스로 사용
- 이력 데이터의 무단 수정

이들은 *아티팩트*가 아닌 *서비스*의 기능이다.

---

## 왜 이것이 중요한가

Trilobase를 SCODA로 취급하면 다음을 보장한다:

- 과학적 책임성
- 분석의 재현 가능성
- 분류학적 지식의 투명한 진화
- 권위 있는 데이터와 개인적 추론의 명확한 분리

요약하면:

> **Trilobase는 접속하는 데이터베이스가 아니다.
> 열어보는 지식 객체이다.**

---

## SCODA Engine: 런타임 생태계

.scoda 패키지는 데이터 아티팩트이다. 이 아티팩트를 **열고, 탐색하고, 서빙하는** 소프트웨어가 **SCODA Engine**이다.

### 정의

> **SCODA Engine은 .scoda 패키지를 로드하여 Web UI, REST API, MCP 엔드포인트를 통해 데이터를 제공하는 런타임이다.**

Engine은 데이터를 생성하지 않는다. 패키지 안의 데이터를 **읽고, 쿼리하고, 시각화**하는 것이 역할이다.

### 제품 구조

| 제품 | 대상 | 설명 |
|------|------|------|
| **SCODA Desktop** | 개인 사용자 | 로컬 실행, tkinter GUI, 단일 패키지, overlay 지원 |
| **SCODA Server** | 기관/공개 서비스 | 멀티 유저, 인증, 스케일링 (미래) |

두 제품은 같은 Engine 코어를 공유한다:

- .scoda 패키지 로더 (`scoda_package.py`)
- Generic Viewer (manifest 기반 자동 렌더링)
- REST API (`/api/query/`, `/api/composite/`)
- MCP 서버 (stdio/SSE)

Desktop과 Server의 차이는 **배포 형태와 접근 제어**이며, 데이터 처리 로직은 동일하다.

### 관련 개념

| 이름 | 역할 |
|------|------|
| **.scoda** | 패키지 포맷 (SQLite DB + manifest + overlay) |
| **SCODA Engine** | .scoda를 서빙하는 런타임 (Desktop / Server) |
| **SCODA Hub** | 패키지 레지스트리/저장소 (미래 구상) |

### SCODA는 아티팩트이고 Engine은 도구이다

SCODA 개념의 핵심은 **데이터와 소프트웨어의 분리**이다:

- .scoda 패키지는 Engine 없이도 SQLite 파일로서 독립적으로 존재한다
- Engine은 패키지를 편리하게 탐색하는 **도구**일 뿐, 데이터의 일부가 아니다
- 같은 .scoda 패키지를 Desktop에서 열든 Server에서 서빙하든 데이터는 동일하다

---

## 상태

이 문서는 SCODA 프레임워크 내에서 Trilobase의 **개념적 역할**을 정의한다.

Desktop, Server, Hub를 포함한 SCODA Engine 생태계는
SCODA 아티팩트를 서빙하는 광범위한 런타임 아키텍처의 일부로 설명된다.

구현 세부사항, 런타임 동작, 기여 워크플로우는
별도의 기술 문서에서 정의된다.
